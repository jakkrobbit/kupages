function getQueryStringParameters(){var e,r,t=document.URL.indexOf("?"),a=[];if(-1!=t)for(e=document.URL.substring(t+1,document.URL.length).split("&"),r=0;r<e.length;r++)nameVal=e[r].split("="),a[nameVal[0]]=nameVal[1];return a}function getParamsbyref(){return paramsbyref=getParamsbyrefString(document.URL)}function getParamsbyrefString(e){var r,t,a=e.indexOf("?"),n=[];if(-1!=a)for(r=e.substring(a+1,e.length).split("&"),t=0;t<r.length;t++)nameVal=r[t].split("="),n[t]=nameVal;return n}function setParam(e,r){if(""===r)return!1;var t=addOrUpdateParamString(e,r,window.location.search);document.location.href=t}function setParams(e){var r,t;if(void 0===e)return!1;for(r in t=window.location.search,e)e.hasOwnProperty(r)&&(console.log(r,e[r]),t=addOrUpdateParamString(r,e[r],t),console.log(t));document.location.href=t}function addOrUpdateParamString(e,r,t){var a,n;if((void 0===t||""===t)&&(t=window.location.search),paramsbyref=getParamsbyrefString(t),-1==t.indexOf("?"))t="?"+e+"="+r;else if(-1!=t.indexOf("&"+e+"=")||-1!=t.indexOf("?"+e+"=")){for(t="?",a=0;a<paramsbyref.length;a++)0!=a&&(t+="&"),t+=paramsbyref[a][0]+"=",t+=paramsbyref[a][0].toLowerCase()!=e.toLowerCase()?paramsbyref[a][1]:r;"pagenum"!=e.toLowerCase()&&(t=removeParamString("pagenum",t))}else n=t.indexOf("?"),t="?"+t.substring(n+1,t.length)+"&"+e+"="+r,"pagenum"!=e.toLowerCase()&&(t=removeParamString("pagenum",t));return t}function removeParamString(e,r){var t,a,n;for(paramsbyref=""==r?getParamsbyref():getParamsbyrefString(r),t="",a=0;a<paramsbyref.length;a++)paramsbyref[a][0].toLowerCase()!=e.toLowerCase()&&(t+=0!=t.length?"&":"?",t+=paramsbyref[a][0]+"="+paramsbyref[a][1]);return""==t&&(n=document.URL.indexOf("?"),t=document.URL.substring(0,n)),t}function removeParam(e){var r=removeParamString(e,"");document.location.href=r}function removeParams(e){for(var r=window.location.search,t=0;t<e.length;t++)r=removeParamString(e[t],r);document.location.href=r}function guidedNavigationStartOver(){var e=removeParamString("section","");-1===(e=removeParamString("maxprice",e=removeParamString("minprice",e=removeParamString("vector",e=removeParamString("genre",e=removeParamString("distributor",e=removeParamString("manufacturer",e=removeParamString("category",e)))))))).indexOf("search.aspx")&&(e=removeParamString("searchterm",e)),document.location.href=e}function sectionLink(e){entityLink(e,"sections")}function entityLink(e,r){params=getQueryStringParameters(),(null==params[r]||params[r].match(delimeter+e+delimeter)!=delimeter+e+delimeter)&&setParam(r,null!=params[r]?params[r]+e+delimeter:delimeter+e+delimeter)}function filterOnPriceRange(e){if(""==e||-1===e.indexOf("-"))return!1;var r=e.split("-");setParams({minprice:r[0],maxprice:r[1]})}function sectionReplaceLink(e,r){entityReplaceLink(e,r,"sections")}function entityReplaceLink(e,r,t){params=getQueryStringParameters(),(null==params[t]||params[t].match(delimeter+e+delimeter)!=delimeter+e+delimeter)&&setParam(t,null!=params[t]?params[t].replace(delimeter+r+delimeter,delimeter+e+delimeter):delimeter+e+delimeter)}function removeSection(e){removeEntity(e,"sections")}function removeEntity(e,r){params=getQueryStringParameters();var t=removeID(params[r],delimeter+e+delimeter);t==delimeter?removeParam(r):setParam(r,t)}function removeID(e,t){return i=e.indexOf(t),r="",-1==i?e:r+=e.substring(0,i)+delimeter+removeID(e.substring(i+t.length),t)}function getCookie(e){return 0<document.cookie.length&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function setCookie(e,r,t){var a=new Date;a.setDate(a.getDate()+t),document.cookie=e+"="+escape(r)+(null==t?"":";expires="+a.toGMTString())}function checkCookie(){username=getCookie("username"),null!=username&&""!=username?alert("Welcome again "+username+"!"):(username=prompt("Please enter your name:",""),null!=username&&""!=username&&setCookie("username",username,365))}function show(e,r,t){showEntity(e,r,t,"sections")}function showEntity(e,r,t,a){null!=params[a]&&params[a].match(delimeter+e+delimeter)==delimeter+e+delimeter&&selectedArray.push([e,r,t]),document.getElementById(t+"Header").style.display="block"}var delimeter="-",selectedArray=[],showSelected=!1;params=getQueryStringParameters();